import{_ as ct}from"./Navbar.f1c921f3.js";import{a as we,r as pt,o as ar,b as sr,e as te,u as Hr,F as dt,p as mr,N as yt}from"./entry.4bfdd21c.js";import{c as Me,_ as ht,A as vt}from"./index.24406a23.js";import{i as gt}from"./inherits_browser.13d20712.js";import{_ as mt}from"./ardb.ce1f7f4f.js";import"./nuxt-link.a6ffc336.js";const Jr=()=>{for(var e=[],r=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)e[i]=n[i],r[n.charCodeAt(i)]=i;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function o(l){var _=l.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var S=l.indexOf("=");S===-1&&(S=_);var k=S===_?0:4-S%4;return[S,k]}function p(l,_,S){return(_+S)*3/4-S}function y(l){var _,S=o(l),k=S[0],w=S[1],d=new t(p(l,k,w)),P=0,T=w>0?k-4:k,C;for(C=0;C<T;C+=4)_=r[l.charCodeAt(C)]<<18|r[l.charCodeAt(C+1)]<<12|r[l.charCodeAt(C+2)]<<6|r[l.charCodeAt(C+3)],d[P++]=_>>16&255,d[P++]=_>>8&255,d[P++]=_&255;return w===2&&(_=r[l.charCodeAt(C)]<<2|r[l.charCodeAt(C+1)]>>4,d[P++]=_&255),w===1&&(_=r[l.charCodeAt(C)]<<10|r[l.charCodeAt(C+1)]<<4|r[l.charCodeAt(C+2)]>>2,d[P++]=_>>8&255,d[P++]=_&255),d}function b(l){return e[l>>18&63]+e[l>>12&63]+e[l>>6&63]+e[l&63]}function A(l,_,S){for(var k,w=[],d=_;d<S;d+=3)k=(l[d]<<16&16711680)+(l[d+1]<<8&65280)+(l[d+2]&255),w.push(b(k));return w.join("")}function v(l){for(var _,S=l.length,k=S%3,w=[],d=16383,P=0,T=S-k;P<T;P+=d)w.push(A(l,P,P+d>T?T:P+d));return k===1?(_=l[S-1],w.push(e[_>>2]+e[_<<4&63]+"==")):k===2&&(_=(l[S-2]<<8)+l[S-1],w.push(e[_>>10]+e[_>>4&63]+e[_<<2&63]+"=")),w.join("")}return{toByteArray:y,fromByteArray:v}};function _t(e){let r=Zr(e);return new TextDecoder("utf-8",{fatal:!0}).decode(r)}function wt(e){return new TextDecoder("utf-8",{fatal:!0}).decode(e)}function Yr(e){return new TextEncoder().encode(e)}function bt(e){return Qr(Yr(e))}function Zr(e){return new Uint8Array(Jr().toByteArray(et(e)))}function Xr(e){return Jr().fromByteArray(new Uint8Array(e))}function Qr(e){return Kr(Xr(e))}function Kr(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function et(e){e=e.replace(/\-/g,"+").replace(/\_/g,"/");let r;return e.length%4==0?r=0:r=4-e.length%4,e.concat("=".repeat(r))}const Te={b64UrlToString:_t,bufferToString:wt,stringToBuffer:Yr,stringToB64Url:bt,b64UrlToBuffer:Zr,bufferTob64:Xr,bufferTob64Url:Qr,b64UrlEncode:Kr,b64UrlDecode:et};class At{get(r,t){if(!Object.getOwnPropertyNames(this).includes(r))throw new Error(`Field "${r}" is not a property of the Arweave Transaction class.`);return this[r]instanceof Uint8Array?t&&t.decode&&t.string?Te.bufferToString(this[r]):t&&t.decode&&!t.string?this[r]:Te.bufferTob64Url(this[r]):t&&t.decode==!0?t&&t.string?Te.b64UrlToString(this[r]):Te.b64UrlToBuffer(this[r]):this[r]}}class St extends At{constructor(r,t,n=!1){super(),this.name=r,this.value=t}}var We={},Ge={},$e,_r;function rt(){return _r||(_r=1,$e=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;r[t]=i;for(t in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var s=Object.getOwnPropertySymbols(r);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(r,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(r,t);if(o.value!==i||o.enumerable!==!0)return!1}return!0}),$e}var xe,wr;function Re(){if(wr)return xe;wr=1;var e=rt();return xe=function(){return e()&&!!Symbol.toStringTag},xe}var Le,br;function Pt(){if(br)return Le;br=1;var e=typeof Symbol<"u"&&Symbol,r=rt();return Le=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:r()},Le}var Ve,Ar;function Et(){if(Ar)return Ve;Ar=1;var e="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,t=Object.prototype.toString,n="[object Function]";return Ve=function(s){var o=this;if(typeof o!="function"||t.call(o)!==n)throw new TypeError(e+o);for(var p=r.call(arguments,1),y,b=function(){if(this instanceof y){var S=o.apply(this,p.concat(r.call(arguments)));return Object(S)===S?S:this}else return o.apply(s,p.concat(r.call(arguments)))},A=Math.max(0,o.length-p.length),v=[],l=0;l<A;l++)v.push("$"+l);if(y=Function("binder","return function ("+v.join(",")+"){ return binder.apply(this,arguments); }")(b),o.prototype){var _=function(){};_.prototype=o.prototype,y.prototype=new _,_.prototype=null}return y},Ve}var ze,Sr;function pr(){if(Sr)return ze;Sr=1;var e=Et();return ze=Function.prototype.bind||e,ze}var He,Pr;function Ot(){if(Pr)return He;Pr=1;var e=pr();return He=e.call(Function.call,Object.prototype.hasOwnProperty),He}var Je,Er;function dr(){if(Er)return Je;Er=1;var e,r=SyntaxError,t=Function,n=TypeError,i=function(V){try{return t('"use strict"; return ('+V+").constructor;")()}catch{}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch{s=null}var o=function(){throw new n},p=s?function(){try{return arguments.callee,o}catch{try{return s(arguments,"callee").get}catch{return o}}}():o,y=Pt()(),b=Object.getPrototypeOf||function(V){return V.__proto__},A={},v=typeof Uint8Array>"u"?e:b(Uint8Array),l={"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":y?b([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":A,"%AsyncGenerator%":A,"%AsyncGeneratorFunction%":A,"%AsyncIteratorPrototype%":A,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":t,"%GeneratorFunction%":A,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":y?b(b([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!y?e:b(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!y?e:b(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":y?b(""[Symbol.iterator]()):e,"%Symbol%":y?Symbol:e,"%SyntaxError%":r,"%ThrowTypeError%":p,"%TypedArray%":v,"%TypeError%":n,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet};try{null.error}catch(V){var _=b(b(V));l["%Error.prototype%"]=_}var S=function V(N){var L;if(N==="%AsyncFunction%")L=i("async function () {}");else if(N==="%GeneratorFunction%")L=i("function* () {}");else if(N==="%AsyncGeneratorFunction%")L=i("async function* () {}");else if(N==="%AsyncGenerator%"){var q=V("%AsyncGeneratorFunction%");q&&(L=q.prototype)}else if(N==="%AsyncIteratorPrototype%"){var z=V("%AsyncGenerator%");z&&(L=b(z.prototype))}return l[N]=L,L},k={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=pr(),d=Ot(),P=w.call(Function.call,Array.prototype.concat),T=w.call(Function.apply,Array.prototype.splice),C=w.call(Function.call,String.prototype.replace),X=w.call(Function.call,String.prototype.slice),ce=w.call(Function.call,RegExp.prototype.exec),re=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ie=/\\(\\)?/g,x=function(N){var L=X(N,0,1),q=X(N,-1);if(L==="%"&&q!=="%")throw new r("invalid intrinsic syntax, expected closing `%`");if(q==="%"&&L!=="%")throw new r("invalid intrinsic syntax, expected opening `%`");var z=[];return C(N,re,function(Z,oe,H,Q){z[z.length]=H?C(Q,ie,"$1"):oe||Z}),z},Y=function(N,L){var q=N,z;if(d(k,q)&&(z=k[q],q="%"+z[0]+"%"),d(l,q)){var Z=l[q];if(Z===A&&(Z=S(q)),typeof Z>"u"&&!L)throw new n("intrinsic "+N+" exists, but is not available. Please file an issue!");return{alias:z,name:q,value:Z}}throw new r("intrinsic "+N+" does not exist!")};return Je=function(N,L){if(typeof N!="string"||N.length===0)throw new n("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof L!="boolean")throw new n('"allowMissing" argument must be a boolean');if(ce(/^%?[^%]*%?$/,N)===null)throw new r("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var q=x(N),z=q.length>0?q[0]:"",Z=Y("%"+z+"%",L),oe=Z.name,H=Z.value,Q=!1,ae=Z.alias;ae&&(z=ae[0],T(q,P([0,1],ae)));for(var ue=1,a=!0;ue<q.length;ue+=1){var f=q[ue],g=X(f,0,1),O=X(f,-1);if((g==='"'||g==="'"||g==="`"||O==='"'||O==="'"||O==="`")&&g!==O)throw new r("property names with quotes must have matching quotes");if((f==="constructor"||!a)&&(Q=!0),z+="."+f,oe="%"+z+"%",d(l,oe))H=l[oe];else if(H!=null){if(!(f in H)){if(!L)throw new n("base intrinsic for "+N+" exists, but the property is not available.");return}if(s&&ue+1>=q.length){var j=s(H,f);a=!!j,a&&"get"in j&&!("originalValue"in j.get)?H=j.get:H=H[f]}else a=d(H,f),H=H[f];a&&!Q&&(l[oe]=H)}}return H},Je}var je={},Tt={get exports(){return je},set exports(e){je=e}},Or;function It(){return Or||(Or=1,function(e){var r=pr(),t=dr(),n=t("%Function.prototype.apply%"),i=t("%Function.prototype.call%"),s=t("%Reflect.apply%",!0)||r.call(i,n),o=t("%Object.getOwnPropertyDescriptor%",!0),p=t("%Object.defineProperty%",!0),y=t("%Math.max%");if(p)try{p({},"a",{value:1})}catch{p=null}e.exports=function(v){var l=s(r,i,arguments);if(o&&p){var _=o(l,"length");_.configurable&&p(l,"length",{value:1+y(0,v.length-(arguments.length-1))})}return l};var b=function(){return s(r,n,arguments)};p?p(e.exports,"apply",{value:b}):e.exports.apply=b}(Tt)),je}var Ye,Tr;function yr(){if(Tr)return Ye;Tr=1;var e=dr(),r=It(),t=r(e("String.prototype.indexOf"));return Ye=function(i,s){var o=e(i,!!s);return typeof o=="function"&&t(i,".prototype.")>-1?r(o):o},Ye}var Ze,Ir;function kt(){if(Ir)return Ze;Ir=1;var e=Re()(),r=yr(),t=r("Object.prototype.toString"),n=function(p){return e&&p&&typeof p=="object"&&Symbol.toStringTag in p?!1:t(p)==="[object Arguments]"},i=function(p){return n(p)?!0:p!==null&&typeof p=="object"&&typeof p.length=="number"&&p.length>=0&&t(p)!=="[object Array]"&&t(p.callee)==="[object Function]"},s=function(){return n(arguments)}();return n.isLegacyArguments=i,Ze=s?n:i,Ze}var Xe,kr;function Mt(){if(kr)return Xe;kr=1;var e=Object.prototype.toString,r=Function.prototype.toString,t=/^\s*(?:function)?\*/,n=Re()(),i=Object.getPrototypeOf,s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},o;return Xe=function(y){if(typeof y!="function")return!1;if(t.test(r.call(y)))return!0;if(!n){var b=e.call(y);return b==="[object GeneratorFunction]"}if(!i)return!1;if(typeof o>"u"){var A=s();o=A?i(A):!1}return i(y)===o},Xe}var Qe,Mr;function Ct(){if(Mr)return Qe;Mr=1;var e=Function.prototype.toString,r=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,t,n;if(typeof r=="function"&&typeof Object.defineProperty=="function")try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},r(function(){throw 42},null,t)}catch(P){P!==n&&(r=null)}else r=null;var i=/^\s*class\b/,s=function(T){try{var C=e.call(T);return i.test(C)}catch{return!1}},o=function(T){try{return s(T)?!1:(e.call(T),!0)}catch{return!1}},p=Object.prototype.toString,y="[object Object]",b="[object Function]",A="[object GeneratorFunction]",v="[object HTMLAllCollection]",l="[object HTML document.all class]",_="[object HTMLCollection]",S=typeof Symbol=="function"&&!!Symbol.toStringTag,k=!(0 in[,]),w=function(){return!1};if(typeof document=="object"){var d=document.all;p.call(d)===p.call(document.all)&&(w=function(T){if((k||!T)&&(typeof T>"u"||typeof T=="object"))try{var C=p.call(T);return(C===v||C===l||C===_||C===y)&&T("")==null}catch{}return!1})}return Qe=r?function(T){if(w(T))return!0;if(!T||typeof T!="function"&&typeof T!="object")return!1;try{r(T,null,t)}catch(C){if(C!==n)return!1}return!s(T)&&o(T)}:function(T){if(w(T))return!0;if(!T||typeof T!="function"&&typeof T!="object")return!1;if(S)return o(T);if(s(T))return!1;var C=p.call(T);return C!==b&&C!==A&&!/^\[object HTML/.test(C)?!1:o(T)},Qe}var Ke,Cr;function tt(){if(Cr)return Ke;Cr=1;var e=Ct(),r=Object.prototype.toString,t=Object.prototype.hasOwnProperty,n=function(y,b,A){for(var v=0,l=y.length;v<l;v++)t.call(y,v)&&(A==null?b(y[v],v,y):b.call(A,y[v],v,y))},i=function(y,b,A){for(var v=0,l=y.length;v<l;v++)A==null?b(y.charAt(v),v,y):b.call(A,y.charAt(v),v,y)},s=function(y,b,A){for(var v in y)t.call(y,v)&&(A==null?b(y[v],v,y):b.call(A,y[v],v,y))},o=function(y,b,A){if(!e(b))throw new TypeError("iterator must be a function");var v;arguments.length>=3&&(v=A),r.call(y)==="[object Array]"?n(y,b,v):typeof y=="string"?i(y,b,v):s(y,b,v)};return Ke=o,Ke}var er,Fr;function nt(){if(Fr)return er;Fr=1;var e=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],r=typeof globalThis>"u"?Me:globalThis;return er=function(){for(var n=[],i=0;i<e.length;i++)typeof r[e[i]]=="function"&&(n[n.length]=e[i]);return n},er}var rr,jr;function it(){if(jr)return rr;jr=1;var e=dr(),r=e("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch{r=null}return rr=r,rr}var tr,Br;function ot(){if(Br)return tr;Br=1;var e=tt(),r=nt(),t=yr(),n=t("Object.prototype.toString"),i=Re()(),s=it(),o=typeof globalThis>"u"?Me:globalThis,p=r(),y=t("Array.prototype.indexOf",!0)||function(S,k){for(var w=0;w<S.length;w+=1)if(S[w]===k)return w;return-1},b=t("String.prototype.slice"),A={},v=Object.getPrototypeOf;i&&s&&v&&e(p,function(_){var S=new o[_];if(Symbol.toStringTag in S){var k=v(S),w=s(k,Symbol.toStringTag);if(!w){var d=v(k);w=s(d,Symbol.toStringTag)}A[_]=w.get}});var l=function(S){var k=!1;return e(A,function(w,d){if(!k)try{k=w.call(S)===d}catch{}}),k};return tr=function(S){if(!S||typeof S!="object")return!1;if(!i||!(Symbol.toStringTag in S)){var k=b(n(S),8,-1);return y(p,k)>-1}return s?l(S):!1},tr}var nr,Rr;function Ft(){if(Rr)return nr;Rr=1;var e=tt(),r=nt(),t=yr(),n=it(),i=t("Object.prototype.toString"),s=Re()(),o=typeof globalThis>"u"?Me:globalThis,p=r(),y=t("String.prototype.slice"),b={},A=Object.getPrototypeOf;s&&n&&A&&e(p,function(_){if(typeof o[_]=="function"){var S=new o[_];if(Symbol.toStringTag in S){var k=A(S),w=n(k,Symbol.toStringTag);if(!w){var d=A(k);w=n(d,Symbol.toStringTag)}b[_]=w.get}}});var v=function(S){var k=!1;return e(b,function(w,d){if(!k)try{var P=w.call(S);P===d&&(k=P)}catch{}}),k},l=ot();return nr=function(S){return l(S)?!s||!(Symbol.toStringTag in S)?y(i(S),8,-1):v(S):!1},nr}var Ur;function jt(){return Ur||(Ur=1,function(e){var r=kt(),t=Mt(),n=Ft(),i=ot();function s(h){return h.call.bind(h)}var o=typeof BigInt<"u",p=typeof Symbol<"u",y=s(Object.prototype.toString),b=s(Number.prototype.valueOf),A=s(String.prototype.valueOf),v=s(Boolean.prototype.valueOf);if(o)var l=s(BigInt.prototype.valueOf);if(p)var _=s(Symbol.prototype.valueOf);function S(h,Pe){if(typeof h!="object")return!1;try{return Pe(h),!0}catch{return!1}}e.isArgumentsObject=r,e.isGeneratorFunction=t,e.isTypedArray=i;function k(h){return typeof Promise<"u"&&h instanceof Promise||h!==null&&typeof h=="object"&&typeof h.then=="function"&&typeof h.catch=="function"}e.isPromise=k;function w(h){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(h):i(h)||f(h)}e.isArrayBufferView=w;function d(h){return n(h)==="Uint8Array"}e.isUint8Array=d;function P(h){return n(h)==="Uint8ClampedArray"}e.isUint8ClampedArray=P;function T(h){return n(h)==="Uint16Array"}e.isUint16Array=T;function C(h){return n(h)==="Uint32Array"}e.isUint32Array=C;function X(h){return n(h)==="Int8Array"}e.isInt8Array=X;function ce(h){return n(h)==="Int16Array"}e.isInt16Array=ce;function re(h){return n(h)==="Int32Array"}e.isInt32Array=re;function ie(h){return n(h)==="Float32Array"}e.isFloat32Array=ie;function x(h){return n(h)==="Float64Array"}e.isFloat64Array=x;function Y(h){return n(h)==="BigInt64Array"}e.isBigInt64Array=Y;function V(h){return n(h)==="BigUint64Array"}e.isBigUint64Array=V;function N(h){return y(h)==="[object Map]"}N.working=typeof Map<"u"&&N(new Map);function L(h){return typeof Map>"u"?!1:N.working?N(h):h instanceof Map}e.isMap=L;function q(h){return y(h)==="[object Set]"}q.working=typeof Set<"u"&&q(new Set);function z(h){return typeof Set>"u"?!1:q.working?q(h):h instanceof Set}e.isSet=z;function Z(h){return y(h)==="[object WeakMap]"}Z.working=typeof WeakMap<"u"&&Z(new WeakMap);function oe(h){return typeof WeakMap>"u"?!1:Z.working?Z(h):h instanceof WeakMap}e.isWeakMap=oe;function H(h){return y(h)==="[object WeakSet]"}H.working=typeof WeakSet<"u"&&H(new WeakSet);function Q(h){return H(h)}e.isWeakSet=Q;function ae(h){return y(h)==="[object ArrayBuffer]"}ae.working=typeof ArrayBuffer<"u"&&ae(new ArrayBuffer);function ue(h){return typeof ArrayBuffer>"u"?!1:ae.working?ae(h):h instanceof ArrayBuffer}e.isArrayBuffer=ue;function a(h){return y(h)==="[object DataView]"}a.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&a(new DataView(new ArrayBuffer(1),0,1));function f(h){return typeof DataView>"u"?!1:a.working?a(h):h instanceof DataView}e.isDataView=f;var g=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function O(h){return y(h)==="[object SharedArrayBuffer]"}function j(h){return typeof g>"u"?!1:(typeof O.working>"u"&&(O.working=O(new g)),O.working?O(h):h instanceof g)}e.isSharedArrayBuffer=j;function $(h){return y(h)==="[object AsyncFunction]"}e.isAsyncFunction=$;function B(h){return y(h)==="[object Map Iterator]"}e.isMapIterator=B;function D(h){return y(h)==="[object Set Iterator]"}e.isSetIterator=D;function U(h){return y(h)==="[object Generator]"}e.isGeneratorObject=U;function K(h){return y(h)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=K;function ne(h){return S(h,b)}e.isNumberObject=ne;function ge(h){return S(h,A)}e.isStringObject=ge;function de(h){return S(h,v)}e.isBooleanObject=de;function me(h){return o&&S(h,l)}e.isBigIntObject=me;function Fe(h){return p&&S(h,_)}e.isSymbolObject=Fe;function Ne(h){return ne(h)||ge(h)||de(h)||me(h)||Fe(h)}e.isBoxedPrimitive=Ne;function De(h){return typeof Uint8Array<"u"&&(ue(h)||j(h))}e.isAnyArrayBuffer=De,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(h){Object.defineProperty(e,h,{enumerable:!1,value:function(){throw new Error(h+" is not supported in userland")}})})}(Ge)),Ge}var ir,Nr;function Bt(){return Nr||(Nr=1,ir=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}),ir}var Dr;function Rt(){return Dr||(Dr=1,function(e){var r=Object.getOwnPropertyDescriptors||function(f){for(var g=Object.keys(f),O={},j=0;j<g.length;j++)O[g[j]]=Object.getOwnPropertyDescriptor(f,g[j]);return O},t=/%[sdj%]/g;e.format=function(a){if(!X(a)){for(var f=[],g=0;g<arguments.length;g++)f.push(o(arguments[g]));return f.join(" ")}for(var g=1,O=arguments,j=O.length,$=String(a).replace(t,function(D){if(D==="%%")return"%";if(g>=j)return D;switch(D){case"%s":return String(O[g++]);case"%d":return Number(O[g++]);case"%j":try{return JSON.stringify(O[g++])}catch{return"[Circular]"}default:return D}}),B=O[g];g<j;B=O[++g])P(B)||!x(B)?$+=" "+B:$+=" "+o(B);return $},e.deprecate=function(a,f){if(typeof process<"u"&&process.noDeprecation===!0)return a;if(typeof process>"u")return function(){return e.deprecate(a,f).apply(this,arguments)};var g=!1;function O(){if(!g){if(process.throwDeprecation)throw new Error(f);process.traceDeprecation?console.trace(f):console.error(f),g=!0}return a.apply(this,arguments)}return O};var n={},i=/^$/;if({}.NODE_DEBUG){var s={}.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}e.debuglog=function(a){if(a=a.toUpperCase(),!n[a])if(i.test(a)){var f=process.pid;n[a]=function(){var g=e.format.apply(e,arguments);console.error("%s %d: %s",a,f,g)}}else n[a]=function(){};return n[a]};function o(a,f){var g={seen:[],stylize:y};return arguments.length>=3&&(g.depth=arguments[2]),arguments.length>=4&&(g.colors=arguments[3]),d(f)?g.showHidden=f:f&&e._extend(g,f),re(g.showHidden)&&(g.showHidden=!1),re(g.depth)&&(g.depth=2),re(g.colors)&&(g.colors=!1),re(g.customInspect)&&(g.customInspect=!0),g.colors&&(g.stylize=p),A(g,a,g.depth)}e.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function p(a,f){var g=o.styles[f];return g?"\x1B["+o.colors[g][0]+"m"+a+"\x1B["+o.colors[g][1]+"m":a}function y(a,f){return a}function b(a){var f={};return a.forEach(function(g,O){f[g]=!0}),f}function A(a,f,g){if(a.customInspect&&f&&N(f.inspect)&&f.inspect!==e.inspect&&!(f.constructor&&f.constructor.prototype===f)){var O=f.inspect(g,a);return X(O)||(O=A(a,O,g)),O}var j=v(a,f);if(j)return j;var $=Object.keys(f),B=b($);if(a.showHidden&&($=Object.getOwnPropertyNames(f)),V(f)&&($.indexOf("message")>=0||$.indexOf("description")>=0))return l(f);if($.length===0){if(N(f)){var D=f.name?": "+f.name:"";return a.stylize("[Function"+D+"]","special")}if(ie(f))return a.stylize(RegExp.prototype.toString.call(f),"regexp");if(Y(f))return a.stylize(Date.prototype.toString.call(f),"date");if(V(f))return l(f)}var U="",K=!1,ne=["{","}"];if(w(f)&&(K=!0,ne=["[","]"]),N(f)){var ge=f.name?": "+f.name:"";U=" [Function"+ge+"]"}if(ie(f)&&(U=" "+RegExp.prototype.toString.call(f)),Y(f)&&(U=" "+Date.prototype.toUTCString.call(f)),V(f)&&(U=" "+l(f)),$.length===0&&(!K||f.length==0))return ne[0]+U+ne[1];if(g<0)return ie(f)?a.stylize(RegExp.prototype.toString.call(f),"regexp"):a.stylize("[Object]","special");a.seen.push(f);var de;return K?de=_(a,f,g,B,$):de=$.map(function(me){return S(a,f,g,B,me,K)}),a.seen.pop(),k(de,U,ne)}function v(a,f){if(re(f))return a.stylize("undefined","undefined");if(X(f)){var g="'"+JSON.stringify(f).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(g,"string")}if(C(f))return a.stylize(""+f,"number");if(d(f))return a.stylize(""+f,"boolean");if(P(f))return a.stylize("null","null")}function l(a){return"["+Error.prototype.toString.call(a)+"]"}function _(a,f,g,O,j){for(var $=[],B=0,D=f.length;B<D;++B)H(f,String(B))?$.push(S(a,f,g,O,String(B),!0)):$.push("");return j.forEach(function(U){U.match(/^\d+$/)||$.push(S(a,f,g,O,U,!0))}),$}function S(a,f,g,O,j,$){var B,D,U;if(U=Object.getOwnPropertyDescriptor(f,j)||{value:f[j]},U.get?U.set?D=a.stylize("[Getter/Setter]","special"):D=a.stylize("[Getter]","special"):U.set&&(D=a.stylize("[Setter]","special")),H(O,j)||(B="["+j+"]"),D||(a.seen.indexOf(U.value)<0?(P(g)?D=A(a,U.value,null):D=A(a,U.value,g-1),D.indexOf(`
`)>-1&&($?D=D.split(`
`).map(function(K){return"  "+K}).join(`
`).slice(2):D=`
`+D.split(`
`).map(function(K){return"   "+K}).join(`
`))):D=a.stylize("[Circular]","special")),re(B)){if($&&j.match(/^\d+$/))return D;B=JSON.stringify(""+j),B.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(B=B.slice(1,-1),B=a.stylize(B,"name")):(B=B.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),B=a.stylize(B,"string"))}return B+": "+D}function k(a,f,g){var O=a.reduce(function(j,$){return $.indexOf(`
`)>=0,j+$.replace(/\u001b\[\d\d?m/g,"").length+1},0);return O>60?g[0]+(f===""?"":f+`
 `)+" "+a.join(`,
  `)+" "+g[1]:g[0]+f+" "+a.join(", ")+" "+g[1]}e.types=jt();function w(a){return Array.isArray(a)}e.isArray=w;function d(a){return typeof a=="boolean"}e.isBoolean=d;function P(a){return a===null}e.isNull=P;function T(a){return a==null}e.isNullOrUndefined=T;function C(a){return typeof a=="number"}e.isNumber=C;function X(a){return typeof a=="string"}e.isString=X;function ce(a){return typeof a=="symbol"}e.isSymbol=ce;function re(a){return a===void 0}e.isUndefined=re;function ie(a){return x(a)&&q(a)==="[object RegExp]"}e.isRegExp=ie,e.types.isRegExp=ie;function x(a){return typeof a=="object"&&a!==null}e.isObject=x;function Y(a){return x(a)&&q(a)==="[object Date]"}e.isDate=Y,e.types.isDate=Y;function V(a){return x(a)&&(q(a)==="[object Error]"||a instanceof Error)}e.isError=V,e.types.isNativeError=V;function N(a){return typeof a=="function"}e.isFunction=N;function L(a){return a===null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||typeof a=="symbol"||typeof a>"u"}e.isPrimitive=L,e.isBuffer=Bt();function q(a){return Object.prototype.toString.call(a)}function z(a){return a<10?"0"+a.toString(10):a.toString(10)}var Z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function oe(){var a=new Date,f=[z(a.getHours()),z(a.getMinutes()),z(a.getSeconds())].join(":");return[a.getDate(),Z[a.getMonth()],f].join(" ")}e.log=function(){console.log("%s - %s",oe(),e.format.apply(e,arguments))},e.inherits=gt,e._extend=function(a,f){if(!f||!x(f))return a;for(var g=Object.keys(f),O=g.length;O--;)a[g[O]]=f[g[O]];return a};function H(a,f){return Object.prototype.hasOwnProperty.call(a,f)}var Q=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(f){if(typeof f!="function")throw new TypeError('The "original" argument must be of type Function');if(Q&&f[Q]){var g=f[Q];if(typeof g!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(g,Q,{value:g,enumerable:!1,writable:!1,configurable:!0}),g}function g(){for(var O,j,$=new Promise(function(U,K){O=U,j=K}),B=[],D=0;D<arguments.length;D++)B.push(arguments[D]);B.push(function(U,K){U?j(U):O(K)});try{f.apply(this,B)}catch(U){j(U)}return $}return Object.setPrototypeOf(g,Object.getPrototypeOf(f)),Q&&Object.defineProperty(g,Q,{value:g,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(g,r(f))},e.promisify.custom=Q;function ae(a,f){if(!a){var g=new Error("Promise was rejected with a falsy value");g.reason=a,a=g}return f(a)}function ue(a){if(typeof a!="function")throw new TypeError('The "original" argument must be of type Function');function f(){for(var g=[],O=0;O<arguments.length;O++)g.push(arguments[O]);var j=g.pop();if(typeof j!="function")throw new TypeError("The last argument must be of type Function");var $=this,B=function(){return j.apply($,arguments)};a.apply(this,g).then(function(D){process.nextTick(B.bind(null,null,D))},function(D){process.nextTick(ae.bind(null,D,B))})}return Object.setPrototypeOf(f,Object.getPrototypeOf(a)),Object.defineProperties(f,r(a)),f}e.callbackify=ue}(We)),We}var qr={};/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Wr;function at(){if(Wr)return qr;Wr=1;var e;return function(r){(function(t){var n=typeof Me=="object"?Me:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),i=s(r);typeof n.Reflect>"u"?n.Reflect=r:i=s(n.Reflect,i),t(i);function s(o,p){return function(y,b){typeof o[y]!="function"&&Object.defineProperty(o,y,{configurable:!0,writable:!0,value:b}),p&&p(y,b)}}})(function(t){var n=Object.prototype.hasOwnProperty,i=typeof Symbol=="function",s=i&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",o=i&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",p=typeof Object.create=="function",y={__proto__:[]}instanceof Array,b=!p&&!y,A={create:p?function(){return qe(Object.create(null))}:y?function(){return qe({__proto__:null})}:function(){return qe({})},has:b?function(u,c){return n.call(u,c)}:function(u,c){return c in u},get:b?function(u,c){return n.call(u,c)?u[c]:void 0}:function(u,c){return u[c]}},v=Object.getPrototypeOf(Function),l=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",_=!l&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:vr(),S=!l&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:ft(),k=!l&&typeof WeakMap=="function"?WeakMap:lt(),w=new k;function d(u,c,m,E){if(a(m)){if(!K(u))throw new TypeError;if(!ge(c))throw new TypeError;return V(u,c)}else{if(!K(u))throw new TypeError;if(!O(c))throw new TypeError;if(!O(E)&&!a(E)&&!f(E))throw new TypeError;return f(E)&&(E=void 0),m=U(m),N(u,c,m,E)}}t("decorate",d);function P(u,c){function m(E,I){if(!O(E))throw new TypeError;if(!a(I)&&!de(I))throw new TypeError;H(u,c,E,I)}return m}t("metadata",P);function T(u,c,m,E){if(!O(m))throw new TypeError;return a(E)||(E=U(E)),H(u,c,m,E)}t("defineMetadata",T);function C(u,c,m){if(!O(c))throw new TypeError;return a(m)||(m=U(m)),q(u,c,m)}t("hasMetadata",C);function X(u,c,m){if(!O(c))throw new TypeError;return a(m)||(m=U(m)),z(u,c,m)}t("hasOwnMetadata",X);function ce(u,c,m){if(!O(c))throw new TypeError;return a(m)||(m=U(m)),Z(u,c,m)}t("getMetadata",ce);function re(u,c,m){if(!O(c))throw new TypeError;return a(m)||(m=U(m)),oe(u,c,m)}t("getOwnMetadata",re);function ie(u,c){if(!O(u))throw new TypeError;return a(c)||(c=U(c)),Q(u,c)}t("getMetadataKeys",ie);function x(u,c){if(!O(u))throw new TypeError;return a(c)||(c=U(c)),ae(u,c)}t("getOwnMetadataKeys",x);function Y(u,c,m){if(!O(c))throw new TypeError;a(m)||(m=U(m));var E=L(c,m,!1);if(a(E)||!E.delete(u))return!1;if(E.size>0)return!0;var I=w.get(c);return I.delete(m),I.size>0||w.delete(c),!0}t("deleteMetadata",Y);function V(u,c){for(var m=u.length-1;m>=0;--m){var E=u[m],I=E(c);if(!a(I)&&!f(I)){if(!ge(I))throw new TypeError;c=I}}return c}function N(u,c,m,E){for(var I=u.length-1;I>=0;--I){var ee=u[I],F=ee(c,m,E);if(!a(F)&&!f(F)){if(!O(F))throw new TypeError;E=F}}return E}function L(u,c,m){var E=w.get(u);if(a(E)){if(!m)return;E=new _,w.set(u,E)}var I=E.get(c);if(a(I)){if(!m)return;I=new _,E.set(c,I)}return I}function q(u,c,m){var E=z(u,c,m);if(E)return!0;var I=Pe(c);return f(I)?!1:q(u,I,m)}function z(u,c,m){var E=L(c,m,!1);return a(E)?!1:B(E.has(u))}function Z(u,c,m){var E=z(u,c,m);if(E)return oe(u,c,m);var I=Pe(c);if(!f(I))return Z(u,I,m)}function oe(u,c,m){var E=L(c,m,!1);if(!a(E))return E.get(u)}function H(u,c,m,E){var I=L(m,E,!0);I.set(u,c)}function Q(u,c){var m=ae(u,c),E=Pe(u);if(E===null)return m;var I=Q(E,c);if(I.length<=0)return m;if(m.length<=0)return I;for(var ee=new S,F=[],R=0,M=m;R<M.length;R++){var W=M[R],G=ee.has(W);G||(ee.add(W),F.push(W))}for(var ye=0,gr=I;ye<gr.length;ye++){var W=gr[ye],G=ee.has(W);G||(ee.add(W),F.push(W))}return F}function ae(u,c){var m=[],E=L(u,c,!1);if(a(E))return m;for(var I=E.keys(),ee=Fe(I),F=0;;){var R=De(ee);if(!R)return m.length=F,m;var M=Ne(R);try{m[F]=M}catch(W){try{h(ee)}finally{throw W}}F++}}function ue(u){if(u===null)return 1;switch(typeof u){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return u===null?1:6;default:return 6}}function a(u){return u===void 0}function f(u){return u===null}function g(u){return typeof u=="symbol"}function O(u){return typeof u=="object"?u!==null:typeof u=="function"}function j(u,c){switch(ue(u)){case 0:return u;case 1:return u;case 2:return u;case 3:return u;case 4:return u;case 5:return u}var m=c===3?"string":c===5?"number":"default",E=me(u,s);if(E!==void 0){var I=E.call(u,m);if(O(I))throw new TypeError;return I}return $(u,m==="default"?"number":m)}function $(u,c){if(c==="string"){var m=u.toString;if(ne(m)){var E=m.call(u);if(!O(E))return E}var I=u.valueOf;if(ne(I)){var E=I.call(u);if(!O(E))return E}}else{var I=u.valueOf;if(ne(I)){var E=I.call(u);if(!O(E))return E}var ee=u.toString;if(ne(ee)){var E=ee.call(u);if(!O(E))return E}}throw new TypeError}function B(u){return!!u}function D(u){return""+u}function U(u){var c=j(u,3);return g(c)?c:D(c)}function K(u){return Array.isArray?Array.isArray(u):u instanceof Object?u instanceof Array:Object.prototype.toString.call(u)==="[object Array]"}function ne(u){return typeof u=="function"}function ge(u){return typeof u=="function"}function de(u){switch(ue(u)){case 3:return!0;case 4:return!0;default:return!1}}function me(u,c){var m=u[c];if(m!=null){if(!ne(m))throw new TypeError;return m}}function Fe(u){var c=me(u,o);if(!ne(c))throw new TypeError;var m=c.call(u);if(!O(m))throw new TypeError;return m}function Ne(u){return u.value}function De(u){var c=u.next();return c.done?!1:c}function h(u){var c=u.return;c&&c.call(u)}function Pe(u){var c=Object.getPrototypeOf(u);if(typeof u!="function"||u===v||c!==v)return c;var m=u.prototype,E=m&&Object.getPrototypeOf(m);if(E==null||E===Object.prototype)return c;var I=E.constructor;return typeof I!="function"||I===u?c:I}function vr(){var u={},c=[],m=function(){function F(R,M,W){this._index=0,this._keys=R,this._values=M,this._selector=W}return F.prototype["@@iterator"]=function(){return this},F.prototype[o]=function(){return this},F.prototype.next=function(){var R=this._index;if(R>=0&&R<this._keys.length){var M=this._selector(this._keys[R],this._values[R]);return R+1>=this._keys.length?(this._index=-1,this._keys=c,this._values=c):this._index++,{value:M,done:!1}}return{value:void 0,done:!0}},F.prototype.throw=function(R){throw this._index>=0&&(this._index=-1,this._keys=c,this._values=c),R},F.prototype.return=function(R){return this._index>=0&&(this._index=-1,this._keys=c,this._values=c),{value:R,done:!0}},F}();return function(){function F(){this._keys=[],this._values=[],this._cacheKey=u,this._cacheIndex=-2}return Object.defineProperty(F.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),F.prototype.has=function(R){return this._find(R,!1)>=0},F.prototype.get=function(R){var M=this._find(R,!1);return M>=0?this._values[M]:void 0},F.prototype.set=function(R,M){var W=this._find(R,!0);return this._values[W]=M,this},F.prototype.delete=function(R){var M=this._find(R,!1);if(M>=0){for(var W=this._keys.length,G=M+1;G<W;G++)this._keys[G-1]=this._keys[G],this._values[G-1]=this._values[G];return this._keys.length--,this._values.length--,R===this._cacheKey&&(this._cacheKey=u,this._cacheIndex=-2),!0}return!1},F.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=u,this._cacheIndex=-2},F.prototype.keys=function(){return new m(this._keys,this._values,E)},F.prototype.values=function(){return new m(this._keys,this._values,I)},F.prototype.entries=function(){return new m(this._keys,this._values,ee)},F.prototype["@@iterator"]=function(){return this.entries()},F.prototype[o]=function(){return this.entries()},F.prototype._find=function(R,M){return this._cacheKey!==R&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=R)),this._cacheIndex<0&&M&&(this._cacheIndex=this._keys.length,this._keys.push(R),this._values.push(void 0)),this._cacheIndex},F}();function E(F,R){return F}function I(F,R){return R}function ee(F,R){return[F,R]}}function ft(){return function(){function u(){this._map=new _}return Object.defineProperty(u.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),u.prototype.has=function(c){return this._map.has(c)},u.prototype.add=function(c){return this._map.set(c,c),this},u.prototype.delete=function(c){return this._map.delete(c)},u.prototype.clear=function(){this._map.clear()},u.prototype.keys=function(){return this._map.keys()},u.prototype.values=function(){return this._map.values()},u.prototype.entries=function(){return this._map.entries()},u.prototype["@@iterator"]=function(){return this.keys()},u.prototype[o]=function(){return this.keys()},u}()}function lt(){var u=16,c=A.create(),m=E();return function(){function M(){this._key=E()}return M.prototype.has=function(W){var G=I(W,!1);return G!==void 0?A.has(G,this._key):!1},M.prototype.get=function(W){var G=I(W,!1);return G!==void 0?A.get(G,this._key):void 0},M.prototype.set=function(W,G){var ye=I(W,!0);return ye[this._key]=G,this},M.prototype.delete=function(W){var G=I(W,!1);return G!==void 0?delete G[this._key]:!1},M.prototype.clear=function(){this._key=E()},M}();function E(){var M;do M="@@WeakMap@@"+R();while(A.has(c,M));return c[M]=!0,M}function I(M,W){if(!n.call(M,m)){if(!W)return;Object.defineProperty(M,m,{value:A.create()})}return M[m]}function ee(M,W){for(var G=0;G<W;++G)M[G]=Math.random()*255|0;return M}function F(M){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(M)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(M)):ee(new Uint8Array(M),M):ee(new Array(M),M)}function R(){var M=F(u);M[6]=M[6]&79|64,M[8]=M[8]&191|128;for(var W="",G=0;G<u;++G){var ye=M[G];(G===4||G===6||G===8)&&(W+="-"),ye<16&&(W+="0"),W+=ye.toString(16).toLowerCase()}return W}}function qe(u){return u.__=void 0,delete u.__,u}})}(e||(e={})),qr}let Ce;function Ue(e){if(typeof e!="function")throw new Error("This module should not be used in runtime. Instead, use a transformer during compilation.")}const ur=Symbol("assertions");function Ut(e,r){let t=r;for(const n of e.slice(1))t=t[n.startsWith("[")?parseInt(n.replace("[","").replace("]","")):n];return t}function Nt(e,r,t){if(e===void 0)return"validation error";const n=Ut(r,t);try{return e+", found: "+Rt().inspect(n)}catch{}try{return e+", found: "+JSON.stringify(n)}catch{}return e}class hr extends Error{constructor(r,t){super(Nt(r.message,r.path,t)),this.name="TypeGuardError",this.path=r.path,this.reason=r.reason,this.input=t}}function Dt(e,r={}){return at(),function(t,n,i){const s=Reflect.getOwnMetadata(ur,t,n)||[];Reflect.getOwnMetadata("design:returntype",t,n)===Promise?s[i]={assertion:e,options:Object.assign({async:!0},r)}:s[i]={assertion:e,options:r},Reflect.defineMetadata(ur,s,t,n)}}function qt(e=hr){return at(),function(r){for(const t of Object.getOwnPropertyNames(r.prototype)){const n=Reflect.getOwnMetadata(ur,r.prototype,t);if(n){const i=r.prototype[t];r.prototype[t]=function(...s){for(let o=0;o<n.length;o++){if(!n[o])continue;const p=n[o].assertion(s[o]);if(p!==null){const y=new e(p,s[o]);if(n[o].options.async)return Promise.reject(y);throw y}}return i.apply(this,s)}}}}}function fr(e,r=Ce){return Ue(r),r(e)===null}function lr(e,r=Ce){Ue(r);const t=r(e);if(t===null)return e;throw new hr(t,e)}function Gr(e=Ce){return Ue(e),r=>fr(r,e)}function $r(e=Ce){return Ue(e),r=>lr(r,e)}function Wt(e){Ce=e}var he={is:fr,assertType:lr,createIs:Gr,createAssertType:$r,equals:fr,createEquals:Gr,assertEquals:lr,createAssertEquals:$r,AssertType:Dt,ValidateClass:qt,TypeGuardError:hr,setDefaultGetErrorObject:Wt},fe=globalThis&&globalThis.__awaiter||function(e,r,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function p(A){try{b(n.next(A))}catch(v){o(v)}}function y(A){try{b(n.throw(A))}catch(v){o(v)}}function b(A){A.done?s(A.value):i(A.value).then(p,y)}b((n=n.apply(e,r||[])).next())})},Gt=globalThis&&globalThis.__rest||function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]]);return t};function $t(e){return class extends e{constructor(...t){super(...t),this.namespaces={arweaveWallet:{walletName:"ArConnect",connect:()=>this.address||this.connect(),disconnect:()=>this.disconnect(),getActiveAddress:()=>this.address,getActivePublicKey:()=>this.getPublicKey(),getAllAddresses:()=>{throw"not implemented"},getWalletNames:()=>{throw"not implemented"},signature:()=>{throw"deprecated, do not use"},sign:(n,i)=>this.signTransaction(n,i),dispatch:(n,i)=>this.dispatch(n,i),encrypt:(n,i)=>fe(this,void 0,void 0,function*(){const s=yield this.getPublicKey();return this.encrypt(n,s,i)}),decrypt:(n,i)=>this.decrypt(n,i),getPermissions:()=>["ACCESS_ADDRESS","ACCESS_PUBLIC_KEY","ACCESS_ALL_ADDRESSES","SIGN_TRANSACTION","ENCRYPT","DECRYPT","SIGNATURE","ACCESS_ARWEAVE_CONFIG","DISPATCH"],getArweaveConfig:()=>this.getArweaveConfig()}}}postMessage(t,n,i){return super.postMessage(t,n,Object.assign(Object.assign({},i),{protocol:"arweave",version:"1.0.0"}))}getPublicKey(){return fe(this,void 0,void 0,function*(){const t=yield this.postMessage("getPublicKey");if(!he.is(t,n=>{function i(s){return typeof s!="string"?{}:null}return i(n)}))throw"TypeError";return t})}getArweaveConfig(){return fe(this,void 0,void 0,function*(){const t=yield this.postMessage("getArweaveConfig");if(!he.is(t,n=>{function i(d){return d!==void 0?{}:null}function s(d){return typeof d!="string"?{}:null}function o(d){var P=[i,s];for(const C of P){var T=C(d);if(!T)return null}return{}}function p(d){return typeof d!="number"?{}:null}function y(d){var P=[i,s,p];for(const C of P){var T=C(d);if(!T)return null}return{}}function b(d){var P=[i,p];for(const C of P){var T=C(d);if(!T)return null}return{}}function A(d){return d!==!1?{}:null}function v(d){return d!==!0?{}:null}function l(d){var P=[i,A,v];for(const C of P){var T=C(d);if(!T)return null}return{}}function _(d){if(typeof d!="object"||d===null||Array.isArray(d))return{};if("protocol"in d){var P=o(d.protocol);if(P)return P}if("host"in d){var P=o(d.host);if(P)return P}if("port"in d){var P=y(d.port);if(P)return P}if("timeout"in d){var P=b(d.timeout);if(P)return P}if("logging"in d){var P=l(d.logging);if(P)return P}if("network"in d){var P=o(d.network);if(P)return P}return null}function S(){return null}function k(d){if(typeof d!="object"||d===null||Array.isArray(d))return{};if("logger"in d){var P=S(d.logger);if(P)return P}return null}function w(d){var P=[_,k];for(const C of P){var T=C(d);if(T)return T}return null}return w(n)}))throw"TypeError";return delete t.logger,t})}signTransaction(t,n){var i;return fe(this,void 0,void 0,function*(){const s=Gt(t,["data","chunks"]),o=yield this.postMessage("signTransaction",[s,n]);if(!he.is(o,p=>{function y(w){return typeof w!="string"?{}:null}function b(w){return w!==void 0?{}:null}function A(w){return w!==null?{}:null}function v(w){var d=[b,A,y];for(const T of d){var P=T(w);if(!P)return null}return{}}function l(w){if(typeof w!="object"||w===null||Array.isArray(w))return{};if("name"in w){var d=y(w.name);if(d)return d}else return{};if("value"in w){var d=y(w.value);if(d)return d}else return{};return null}function _(w){if(!Array.isArray(w))return{};for(let P=0;P<w.length;P++){var d=l(w[P]);if(d)return d}return null}function S(w){var d=[b,A,_];for(const T of d){var P=T(w);if(!P)return null}return{}}function k(w){if(typeof w!="object"||w===null||Array.isArray(w))return{};if("id"in w){var d=y(w.id);if(d)return d}else return{};if("owner"in w){var d=v(w.owner);if(d)return d}if("tags"in w){var d=S(w.tags);if(d)return d}if("signature"in w){var d=y(w.signature);if(d)return d}else return{};if("reward"in w){var d=v(w.reward);if(d)return d}return null}return k(p)}))throw"TypeError";return t.setSignature({id:o.id,owner:o.owner||t.owner,tags:(i=o.tags)===null||i===void 0?void 0:i.map(p=>new St(p.name,p.value,!0)),signature:o.signature,reward:o.reward||void 0}),t})}signDataItem(t){return fe(this,void 0,void 0,function*(){const n=yield this.postMessage("signDataItem",[t]);if(!he.is(n,i=>{function s(l){return l!==void 0?{}:null}function o(l){return typeof l!="string"?{}:null}function p(l){if(typeof l!="object"||l===null||Array.isArray(l))return{};if("name"in l){var _=o(l.name);if(_)return _}else return{};if("value"in l){var _=o(l.value);if(_)return _}else return{};return null}function y(l){if(!Array.isArray(l))return{};for(let S=0;S<l.length;S++){var _=p(l[S]);if(_)return _}return null}function b(l){var _=[s,y];for(const k of _){var S=k(l);if(!S)return null}return{}}function A(l){var _=[s,o];for(const k of _){var S=k(l);if(!S)return null}return{}}function v(l){if(typeof l!="object"||l===null||Array.isArray(l))return{};if("tags"in l){var _=b(l.tags);if(_)return _}if("target"in l){var _=A(l.target);if(_)return _}if("anchor"in l){var _=A(l.anchor);if(_)return _}if("data"in l){var _=o(l.data);if(_)return _}if("signature"in l){var _=o(l.signature);if(_)return _}else return{};return null}return v(i)}))throw"TypeError";return n})}dispatch(t,n){return fe(this,void 0,void 0,function*(){const i=yield this.postMessage("dispatch",[t,n],{transfer:!0});if(!he.is(i,s=>{function o(v){return typeof v!="string"?{}:null}function p(v){return v!=="BASE"?{}:null}function y(v){return v!=="BUNDLED"?{}:null}function b(v){var l=[p,y];for(const S of l){var _=S(v);if(!_)return null}return{}}function A(v){if(typeof v!="object"||v===null||Array.isArray(v))return{};if("id"in v){var l=o(v.id);if(l)return l}if("type"in v){var l=b(v.type);if(l)return l}return null}return A(s)}))throw"TypeError";return i})}signMessage(t,n){return fe(this,void 0,void 0,function*(){const i=yield this.postMessage("signMessage",[t,n]);if(!ArrayBuffer.isView(i))throw"TypeError";const s=t.constructor;return new s(i.buffer)})}verifyMessage(t,n,i,s){return fe(this,void 0,void 0,function*(){n=typeof n=="string"?Te.b64UrlToBuffer(n):n;const o=yield this.postMessage("verifyMessage",[t,n,i,s]);if(!he.is(o,p=>{function y(b){return typeof b!="boolean"?{}:null}return y(p)}))throw"TypeError";return o})}encrypt(t,n,i){return fe(this,void 0,void 0,function*(){const s=yield this.postMessage("encrypt",[t,n,i]);if(!ArrayBuffer.isView(s))throw"TypeError";const o=t.constructor;return new o(s.buffer)})}decrypt(t,n){return fe(this,void 0,void 0,function*(){const i=yield this.postMessage("decrypt",[t,n]);if(!ArrayBuffer.isView(i))throw"TypeError";const s=t.constructor;return new s(i.buffer)})}privateHash(t,n){return fe(this,void 0,void 0,function*(){const i=yield this.postMessage("privateHash",[t,n]);if(!ArrayBuffer.isView(i))throw"TypeError";const s=t.constructor;return new s(i.buffer)})}}}function xt(e){return{all:e=e||new Map,on:function(r,t){var n=e.get(r);n?n.push(t):e.set(r,[t])},off:function(r,t){var n=e.get(r);n&&(t?n.splice(n.indexOf(t)>>>0,1):e.set(r,[]))},emit:function(r,t){var n=e.get(r);n&&n.slice().map(function(i){i(t)}),(n=e.get("*"))&&n.slice().map(function(i){i(r,t)})}}}class st{constructor(){this.mittInstance=xt()}emit(r,t){this.mittInstance.emit(r,t)}on(r,t){this.mittInstance.on(r,t)}off(r,t){this.mittInstance.off(r,t)}once(r,t){return new Promise(n=>{const i=s=>{this.off(r,i),n(s),t&&t(s)};this.on(r,i)})}}class Lt{constructor(){this._promiseController=[]}newMessagePromise(r,t){r.id=this._promiseController.length;const n=new Promise((i,s)=>this._promiseController.push({resolve:i,reject:s}));return t!=null&&t.timeout&&setTimeout(()=>this._promiseController[r.id].reject("timeout"),t.timeout),n}processResponse(r){const{id:t,result:n,error:i}=r;if(t!=null){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&isNaN(parseInt(t)))throw"error";if(!this._promiseController[+t])throw"received result to nonexistent request";return i!=null?this._promiseController[+t].reject(i):this._promiseController[+t].resolve(n),!0}}}const xr="400",Lr="600";class Vt extends st{constructor(r,t,n){if(super(),this._iframe={},this._showIframe=!1,this._popup={},this._usePopup=!0,this._requirePopup=!1,this._keepPopup=!1,this._promiseController=new Lt,this._pending=[],this.listener=i=>{var s,o,p,y,b,A;if(i.source!==this._popup.window&&i.source!==((s=this._iframe)===null||s===void 0?void 0:s.window)||i.origin!==((o=this._url)===null||o===void 0?void 0:o.origin)||typeof i.data!="object")return;const{method:v,params:l,id:_,result:S,error:k,session:w}=i.data;if(console.info(`WalletConnector:${i.source===this._popup.window?"popup":"iframe"}`,i.data),_!=null&&(this._pending=this._pending.filter(P=>P!=_)),this._promiseController.processResponse(i.data)||typeof v!="string")return;if(v==="ready"){i.source===this._popup.window&&((y=(p=this._popup).resolve)===null||y===void 0||y.call(p)),i.source===this._iframe.window&&((A=(b=this._iframe).resolve)===null||A===void 0||A.call(b));return}if(v==="change")return;if(v==="showIframe"){if(typeof l!="boolean")return;this.showIframe=l}if(v==="usePopup"){if(typeof l!="boolean")return;this.setUsePopup(l)}if(v==="keepPopup"){if(typeof l!="boolean")return;this.setRequirePopup(l)}const d={method:v,params:l,session:w};if(!he.is(d,P=>{function T(x){return typeof x!="string"?{}:null}function C(){return null}function X(x){return x!==void 0?{}:null}function ce(x){return typeof x!="number"?{}:null}function re(x){var Y=[X,T,ce];for(const N of Y){var V=N(x);if(!V)return null}return{}}function ie(x){if(typeof x!="object"||x===null||Array.isArray(x))return{};if("method"in x){var Y=T(x.method);if(Y)return Y}else return{};if("params"in x){var Y=C(x.params);if(Y)return Y}else return{};if("session"in x){var Y=re(x.session);if(Y)return Y}return null}return ie(P)}))return console.warn("dropped");this.emit("message",d)},this._iframeParentNode=t==null?void 0:t.iframeParentNode,this._url=r,typeof window<"u"){const i={origin:window.location.origin,session:Math.random().toString().slice(2)};t!=null&&t.name&&(i.name=t.name),t!=null&&t.logo&&(i.logo=t.logo),this._url.hash=new URLSearchParams(i).toString(),window.addEventListener("message",this.listener),n&&this.openIframe()}}get url(){var r;return(r=this._url)===null||r===void 0?void 0:r.origin}get showIframe(){return this._showIframe}set showIframe(r){r!==this._showIframe&&(this._showIframe=r,this.deliverMessage({method:"showIframe",params:r}),this.emit("builtin",{showIframe:r}),this._iframeNode&&(this._iframeParentNode||(this._iframeNode.style.opacity=r?"1":"0",this._iframeNode.style.pointerEvents=r?"":"none",this._iframeNode.style.touchAction=r?"":"none",this._iframeNode.style.zIndex=r?"1000000":"-1000000",this._iframeNode.style.transform=r?"":"translate(0, 24px)",this._iframeNode.style.transition=r?"opacity 0.36s cubic-bezier(0.22, 1, 0.36, 1), transform 0.36s cubic-bezier(0.22, 1, 0.36, 1)":"opacity 0.1s ease, transform 0.1s ease, z-index 0s linear 0.1s")))}get usePopup(){return this._usePopup}setUsePopup(r){r!==this._usePopup&&(this._usePopup=r,this.emit("builtin",{usePopup:r}))}get requirePopup(){return this._requirePopup}setRequirePopup(r){r!==this._requirePopup&&(this._requirePopup=r,this.emit("builtin",{requirePopup:r}))}get keepPopup(){return this._keepPopup}set keepPopup(r){this._keepPopup=r,this.emit("builtin",{keepPopup:r}),r||this.closePopup(),r&&this.openPopup(!0)}destructor(r){this.closeIframe(),this.closePopup(!0),window.removeEventListener("message",this.listener)}postMessage(r,t){const n=this._promiseController.newMessagePromise(r,t).finally(()=>this.completeRequest());return this.deliverMessage(r),n}openIframe(){if(this._iframeEl)return;const r=new Promise((n,i)=>this._iframe={resolve:n,reject:i});this._iframe.promise=r;const t=Array.from(document.querySelectorAll("iframe")).find(n=>{try{return new URL(n.src).origin===this.url}catch{}});if(t)this._iframeEl=t,this._iframe.window=this._iframeEl.contentWindow,this.postMessage({method:"ready"});else{this._iframeNode=document.createElement("div"),this._iframeEl=document.createElement("iframe"),this._iframeEl.src=this._url.toString(),this._iframeEl.allow="usb; hid; bluetooth; serial; camera; payment; web-share",this._iframeEl.style.border="none",this._iframeParentNode||(this._iframeEl.width=xr,this._iframeEl.height=Lr,this._iframeEl.style.borderRadius="8px",this._iframeEl.style.maxWidth="100%",this._iframeEl.style.maxHeight="100%",this._iframeNode.style.position="fixed",this._iframeNode.style.inset="0",this._iframeNode.style.display="flex",this._iframeNode.style.alignItems="center",this._iframeNode.style.justifyContent="center",this._iframeNode.style.background="#00000088",this._iframeNode.style.opacity="0",this._iframeNode.style.pointerEvents="none",this._iframeNode.style.touchAction="none",this._iframeNode.style.zIndex="-1000000",this._iframeNode.style.transform="translate(0, 24px)",this._iframeNode.style.transition="opacity 0.1s ease, transform 0.1s ease, z-index 0s linear 0.1s"),this._iframeNode.appendChild(this._iframeEl);const n=()=>{var i;this._iframeParentNode?this._iframeParentNode.appendChild(this._iframeNode):document.body.appendChild(this._iframeNode),this._iframe.window=(i=this._iframeEl)===null||i===void 0?void 0:i.contentWindow};document.readyState==="complete"||document.readyState==="interactive"?n():document.addEventListener("DOMContentLoaded",n)}}closeIframe(){var r,t,n,i,s;(r=this._iframeEl)===null||r===void 0||r.setAttribute("src","about:blank"),(t=this._iframeEl)===null||t===void 0||t.remove(),(n=this._iframeNode)===null||n===void 0||n.remove(),this._iframeNode=void 0,this._iframeEl=void 0,(s=(i=this._iframe).reject)===null||s===void 0||s.call(i),this._iframe={}}openPopup(r){if(this._popup.window&&!this._popup.window.closed){this._popup.window.focus();return}if(!this.usePopup&&!r)return;window.name="parent";const t=window.open(this._url.toString(),"_blank",`location,resizable,scrollbars,width=${xr},height=${Lr}`),n=new Promise((s,o)=>this._popup={window:t,resolve:s,reject:o});this._popup.promise=n;const i=setInterval(()=>{this._popup.window&&!this._popup.window.closed||(this.keepPopup&&(this.keepPopup=!1),clearInterval(i))},200)}closePopup(r){var t,n,i;if(!this._popup.window||!((t=this._popup.window)===null||t===void 0)&&t.closed||(this.keepPopup||this.requirePopup)&&!r)return;const s=this._popup.window;s.close(),s.location.href="about:blank";let o=0;const p=setInterval(()=>{o>50||!s||s.closed?clearInterval(p):o++,s.close()},100);(i=(n=this._popup).reject)===null||i===void 0||i.call(n),this._popup={}}completeRequest(){setTimeout(()=>{this._pending.length||(this.closePopup(),this.showIframe=!1)},100)}deliverMessage(r,t){var n,i;if(!this._url)throw"Missing URL";console.info("WalletConnector:post",r);const s=Object.assign(Object.assign({},r),{jsonrpc:"2.0"});s.id!=null&&this._pending.push(s.id),this.openIframe(),this._iframe.promise=(n=this._iframe.promise)===null||n===void 0?void 0:n.then(()=>{var o;return(o=this._iframe.window)===null||o===void 0?void 0:o.postMessage(s,this._url.origin,t!=null&&t.transfer?[s]:void 0)}).catch(()=>{}),this.openPopup(),this._popup.promise=(i=this._popup.promise)===null||i===void 0?void 0:i.then(()=>{var o;return(o=this._popup.window)===null||o===void 0?void 0:o.postMessage(s,this._url.origin,t!=null&&t.transfer?[s]:void 0)}).catch(()=>{})}}function Vr(e){return typeof e=="object"?e:(e.includes("://")||(e="https://"+e),new URL(e))}let zr;const _e=[],ke={},cr={};function zt(e){e.namespaces&&(_e.find(r=>r===e)||_e.push(e),Be())}function Ht(e){if(!_e.find(r=>r===e))return Be();_e.splice(_e.indexOf(e),1);for(const r in e.namespaces)ke[r]===e&&(window[r]=cr[r],delete cr[r],delete ke[r]);Be()}function Be(){for(const e of _e)for(const r in e.namespaces)ke[r]&&ke[r]!==e||window[r]!==e.namespaces[r]&&(cr[r]=window[r],window[r]=e.namespaces[r],ke[r]=e);window.clearInterval(zr),_e.length&&(zr=setInterval(()=>Be(),1e4))}const Jt="Window context missing. If you are using a server side rendering framework, make sure that the connector is excluded. If you want to use the connector outside the browser, use the node version of the module instead";var or=globalThis&&globalThis.__awaiter||function(e,r,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function p(A){try{b(n.next(A))}catch(v){o(v)}}function y(A){try{b(n.throw(A))}catch(v){o(v)}}function b(A){A.done?s(A.value):i(A.value).then(p,y)}b((n=n.apply(e,r||[])).next())})};class se extends st{constructor(r,t){super(),this._session=0,this._listener=n=>{const{method:i,params:s,session:o}=n;if(!(o!=null&&this._session!=o)&&!(!o&&this._session)){if(i==="connect"){if(!he.is(s,p=>{function y(b){return typeof b!="string"?{}:null}return y(p)}))return;this.setAddress(s)}i==="disconnect"&&this.disconnectEvent(!1)}},this._appInfo=r,this._emitterPassthrough=n=>{const i=Object.entries(n)[0];this.emit(i[0],i[1])},this.on("connect",()=>zt(this)),this.on("disconnect",()=>Ht(this)),t&&(this._url=Vr(t))}get address(){return this._address}setAddress(r){r&&r===this.address||(this._address=r,r!=null?this.emit("connect",r):this.emit("disconnect",r),this.emit("change",r))}get connected(){return this._address!=null}get url(){var r;return(r=this._bridge)===null||r===void 0?void 0:r.url}get showIframe(){var r;return((r=this._bridge)===null||r===void 0?void 0:r.showIframe)||!1}get usePopup(){var r;return((r=this._bridge)===null||r===void 0?void 0:r.usePopup)||!1}get requirePopup(){var r;return((r=this._bridge)===null||r===void 0?void 0:r.requirePopup)||!1}get keepPopup(){var r;return((r=this._bridge)===null||r===void 0?void 0:r.keepPopup)||!1}set keepPopup(r){this._bridge&&(this._bridge.keepPopup=r)}setUrl(r,t){var n;if(typeof window>"u"){console.error(Jt);return}const i=this._bridge,s=Vr(r);if(this._url=s,((n=this._bridge)===null||n===void 0?void 0:n.url)!==s.origin){if(this.disconnect(),!se._bridges[s.origin])this._bridge=new Vt(s,this._appInfo,t),se._bridges[s.origin]={bridge:this._bridge,sessions:[]};else{this._bridge=se._bridges[s.origin].bridge;const o=se._bridges[s.origin].sessions;for(let p=0;p<=o.length;p++)if(o.indexOf(p)<0){this._session=p;break}}se._bridges[s.origin].sessions.push(this._session),this._bridge.on("message",this._listener),this._bridge.on("builtin",this._emitterPassthrough),this._bridge.showIframe!==(i==null?void 0:i.showIframe)&&this.emit("showIframe",this._bridge.showIframe),this._bridge.usePopup!==(i==null?void 0:i.usePopup)&&this.emit("usePopup",this._bridge.usePopup),this._bridge.requirePopup!==(i==null?void 0:i.requirePopup)&&this.emit("requirePopup",this._bridge.requirePopup),this._bridge.keepPopup!==(i==null?void 0:i.keepPopup)&&this.emit("keepPopup",this._bridge.keepPopup)}}connect(r){return or(this,void 0,void 0,function*(){if(!this._url)throw"Connect failed: URL missing";this._bridge||this.setUrl(this._url);const t=new Promise((n,i)=>{this.once("change",s=>s?n(s):i())}).finally(()=>{var n;return(n=this._bridge)===null||n===void 0?void 0:n.completeRequest()});return this._bridge.deliverMessage({method:"connect",params:r}),t})}disconnect(r){return or(this,void 0,void 0,function*(){return this.disconnectEvent(!0,r)})}disconnectEvent(r,t){return or(this,void 0,void 0,function*(){if(!this._bridge)return;const n=this._bridge,i=this._session,s=n.url;if(this.setAddress(void 0),this._bridge=void 0,this._session=0,r)try{yield n.postMessage({method:"disconnect",params:[t],session:i},{timeout:5e3})}catch{console.warn("disconnect request failed")}n.off("message",this._listener),n.off("builtin",this._emitterPassthrough),se._bridges[s].sessions=se._bridges[s].sessions.filter(o=>o!=i),setTimeout(()=>{se._bridges[s].sessions.length||(se._bridges[s].bridge.destructor(),delete se._bridges[s])},100)})}postMessage(r,t,n){return new Promise((i,s)=>{if(!this._url)throw"Post message failed: URL missing";if(!this._bridge)throw"Post message failed: URL not loaded, call setUrl or connect first";this.once("disconnect",s),this._bridge.postMessage({method:r,params:t,session:this._session,protocol:n==null?void 0:n.protocol,version:n==null?void 0:n.version},n).then(i).catch(s)})}}se._bridges={};var J=globalThis&&globalThis.__classPrivateFieldGet||function(e,r,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!n:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(e):n?n.value:r.get(e)},Ee=globalThis&&globalThis.__classPrivateFieldSet||function(e,r,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!i:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,t):i?i.value=t:r.set(e,t),t},be,Ae,pe,Se,Ie,le;class ve extends se{constructor(r,t){var n;if(super(r,(n=ut(t==null?void 0:t.state))===null||n===void 0?void 0:n.url),pe.set(this,void 0),Se.set(this,void 0),Ie.set(this,[]),le.set(this,"arweave-wallet-connector:URL"),this.setUrl=(o,p)=>{super.setUrl(o,p),this.updateState({url:super.url})},this.subscribe=o=>(J(this,Ie,"f").push(o),o(J(this,pe,"f").value),()=>J(this,Ie,"f").filter(p=>p!==o)),this.setState=o=>{var p;const y=(p=J(ve,be,"f",Ae))!==null&&p!==void 0?p:this;o&&Array.isArray(o)&&Ee(y,Se,o[1],"f"),o&&"set"in o&&Ee(y,Se,o.set,"f");const b=Yt(o);return Ee(y,pe,b.state,"f"),Object.keys(b.newProps).length&&y.updateState(b.newProps),o},this.updateState=o=>{o&&(Object.assign(J(this,pe,"f").value,o),J(this,Se,"f")&&J(this,Se,"f").call(this,Object.assign({},J(this,pe,"f").value)),J(this,Ie,"f").forEach(p=>p(J(this,pe,"f").value)))},this.setState(t==null?void 0:t.state),J(ve,be,"f",Ae))return J(ve,be,"f",Ae);Ee(ve,be,new Proxy(this,{get:(o,p,y)=>p in J(o,pe,"f").value?J(o,pe,"f").value[p]:o[p],set:(o,p,y,b)=>(p==="keepPopup"?super.keepPopup=y:o[p]=y,!0)}),"f",Ae);let i=!1;if(this.on("connect",o=>{const p=super.url;this.updateState({address:o,url:p,connected:!0}),J(this,le,"f")&&localStorage.setItem(J(this,le,"f"),p??"")}),this.on("disconnect",()=>{this.updateState({address:void 0,connected:!1}),J(this,le,"f")&&!i&&localStorage.removeItem(J(this,le,"f"))}),["showIframe","usePopup","requirePopup","keepPopup"].forEach(o=>this.on(o,p=>this.updateState({[o]:p}))),typeof window<"u"&&(window.addEventListener("beforeunload",()=>i=!0),window.addEventListener("unload",()=>i=!0),(t==null?void 0:t.localStorageKey)!=null&&Ee(this,le,t.localStorageKey,"f"),J(this,le,"f"))){const o=localStorage.getItem(J(this,le,"f"));o&&this.setUrl(o,!0),localStorage.removeItem(J(this,le,"f"))}return J(ve,be,"f",Ae)}}be=ve,pe=new WeakMap,Se=new WeakMap,Ie=new WeakMap,le=new WeakMap;Ae={value:void 0};function ut(e){if(e){if("subscribe"in e){let r;const t=e.subscribe(n=>r=n);return t==null||t(),r}return Array.isArray(e)?e[0]:"value"in e?e.value:e}}function Yt(e){let r;return e?Array.isArray(e)?r=Oe({value:e[0]}):"value"in e?r=Oe(e):"subscribe"in e?r=Oe({value:ut(e)}):r=Oe({value:e}):r=Oe({value:{}}),r}function Oe(e){var r;(r=e.value)!==null&&r!==void 0||(e.value={});const t=Zt(e.value);return{state:e,newProps:t.newProps}}function Zt(e={}){const r={url:void 0,address:void 0,connected:!1,showIframe:!1,usePopup:!1,requirePopup:!1,keepPopup:!1},t={};for(const n in r)e[n]==null&&(t[n]=r[n],e[n]=r[n]);return{state:e,newProps:t}}const Xt=$t(ve),Qt=["checked"],Kt=te("h3",{class:"font-bold text-3xl text-center"},"Select your arweave wallet",-1),en=te("figure",null,[te("img",{src:"https://7qx7gbohuua3h7r32vf6ddrjoi7mkdmczz6cdtcq2e3dhdpavd3q.arweave.net/_C_zBcelAbP-O9VL4Y4pcj7FDYLOfCHMUNE2M43gqPc",alt:"ArConnect",height:"200"})],-1),rn=te("div",{class:"card-body w-full flex bg-neutral"},[te("h2",{class:"card-title w-full block text-center"},"ArConnect")],-1),tn=[en,rn],nn=te("figure",null,[te("img",{src:"https://yctstiqqys3b4j5qb55sxtn6airb6a56tlwxtkfi36of6cbg2a5a.arweave.net/wKcpohDEth4nsA97K82-AiIfA76a7XmoqN-cXwgm0Do",alt:"Arweave.app",width:"900"})],-1),on=te("div",{class:"card-body w-full flex bg-neutral"},[te("h2",{class:"card-title w-full block text-center"},"Arweave.app")],-1),an=[nn,on],sn={__name:"ConnectWallet",props:["show"],setup(e){const r=e,n=we("accountTools",()=>new ht({cacheIsActivated:!0,cacheSize:100,cacheTime:60})).value;let i=we("account",()=>null);const s=pt(r.show||!1),o=we("wallet",()=>null),p=we("arweave",()=>vt.init({host:"arweave.net",port:443,protocol:"https",timeout:6e4,logging:!1}));we("ardb",()=>new mt(p.value)).value;async function b(){let v=new Xt({name:"RareWeave",logo:"https://uww52thwbamkjai5oi7pi6hfiqigwn5skuaklgmebscumieurkta.arweave.net/pa3dTPYIGKSBHXI-9HjlRBBrN7JVAKWZhAyFRiCUiqY"},{state:{url:"arweave.app"}});v.setUrl("arweave.app"),await v.connect();let l=await v.namespaces.arweaveWallet.getActiveAddress();i.value=await n.get(l),o.value=v.namespaces.arweaveWallet}async function A(){await window.arweaveWallet.connect(["ACCESS_ADDRESS","ACCESS_ALL_ADDRESSES","ACCESS_PUBLIC_KEY","DISPATCH","SIGN_TRANSACTION","ACCESS_ARWEAVE_CONFIG"]);let v=await window.arweaveWallet.getActiveAddress();i.value=await n.get(v),o.value=window.arweaveWallet}return(v,l)=>(ar(),sr(dt,null,[te("input",{type:"checkbox",id:"connectWallet",class:"modal-toggle",checked:Hr(s)},null,8,Qt),te("div",{class:"modal"},[te("div",{class:"modal-box"},[Kt,te("div",{class:"py-4 flex justify-center"},[te("div",{class:"card card-compact m-2 w-1/3 bg-base-200",onClick:A},tn),te("div",{class:"card card-compact m-2 w-1/3 bg-base-200",onClick:b},an)])])])],64))}};const un={key:0,class:"h-full"},fn={key:1,class:"h-full flex flex-row justify-center items-center"},gn={__name:"default",setup(e){let r=we("wallet",()=>null);return(t,n)=>{const i=ct,s=sn;return Hr(r)?(ar(),sr("div",un,[mr(i),yt(t.$slots,"default")])):(ar(),sr("div",fn,[mr(s,{show:!0})]))}}};export{gn as default};
